{% extends 'generator/base.html' %}

{% block title %}{% if current_lang == 'en' %}Word Generator{% else %}–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª–æ–≤{% endif %} - Secure Password Generator{% endblock %}

{% block content %}
<div class="card">
    <h1>üìù {% if current_lang == 'en' %}Word Generator for Crypto Wallets{% else %}–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª–æ–≤ –¥–ª—è –∫—Ä–∏–ø—Ç–æ–∫–æ—à–µ–ª—å–∫–æ–≤{% endif %}</h1>
    
    <form method="POST">
        {% csrf_token %}
        
        <label for="count"><strong>{% if current_lang == 'en' %}Number of words:{% else %}–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤:{% endif %}</strong></label>
        <input type="number" id="count" name="count" value="{{ count }}" min="1" max="2048" required>
        
        <button type="submit" class="btn">{% if current_lang == 'en' %}Generate words{% else %}–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–≤–∞{% endif %}</button>
    </form>
    
    {% if words %}
    <div class="word-list">
        <h2 style="margin-top: 2rem;">{% if current_lang == 'en' %}Generated words:{% else %}–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ª–æ–≤–∞:{% endif %}</h2>
        {% for word in words %}
        <div class="word-row">
            <span class="word-text">{{ word }}</span>
            <button class="copy-btn" onclick="copyToClipboard('{{ word }}', this)">{% if current_lang == 'en' %}Copy{% else %}–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å{% endif %}</button>
            <span class="success-message">‚úì {% if current_lang == 'en' %}Copied!{% else %}–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!{% endif %}</span>
        </div>
        {% endfor %}
    </div>
    {% endif %}
</div>
{% endblock %}

{% block extra_js %}
<script>
function copyToClipboard(text, button) {
    navigator.clipboard.writeText(text).then(function() {
        var successMsg = button.nextElementSibling;
        successMsg.style.display = 'inline';
        setTimeout(function() { successMsg.style.display = 'none'; }, 2000);
    }).catch(function() {
        var textarea = document.createElement('textarea');
        textarea.value = text;
        textarea.style.position = 'fixed';
        textarea.style.opacity = '0';
        document.body.appendChild(textarea);
        textarea.select();
        try {
            document.execCommand('copy');
            var successMsg = button.nextElementSibling;
            successMsg.style.display = 'inline';
            setTimeout(function() { successMsg.style.display = 'none'; }, 2000);
        } catch (e) {}
        document.body.removeChild(textarea);
    });
}
</script>
{% endblock %}
